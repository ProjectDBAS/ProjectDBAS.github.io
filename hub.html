<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DEPARTMENT OF BEHAVIORAL ABERRATION STUDIES — V-09</title>
  <style>
    :root{--paper:#f7f4ef;--ink:#0b0b0b;--red:#8b0000;--stamp:#222;--screen-bg:#0a0a0a;--screen-glow:#00ff41}
    
    body{
      margin:0;
      font-family: 'Courier New', Courier, monospace;
      background:#0a0a0a;
      color:var(--ink);
      padding:20px;
      position:relative;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    
    /* Dust particle background */
    body::before{
      content:'';
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background-image:
        radial-gradient(circle at 20% 30%, rgba(100,100,100,.4) 1px, transparent 1px),
        radial-gradient(circle at 60% 70%, rgba(120,120,120,.3) 1px, transparent 1px),
        radial-gradient(circle at 80% 20%, rgba(90,90,90,.35) 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, rgba(110,110,110,.25) 1px, transparent 1px),
        radial-gradient(circle at 15% 60%, rgba(95,95,95,.4) 1px, transparent 1px),
        radial-gradient(circle at 75% 45%, rgba(105,105,105,.3) 1px, transparent 1px),
        radial-gradient(circle at 50% 15%, rgba(100,100,100,.35) 1px, transparent 1px),
        radial-gradient(circle at 90% 85%, rgba(115,115,115,.25) 1px, transparent 1px),
        radial-gradient(circle at 25% 50%, rgba(98,98,98,.3) 1px, transparent 1px),
        radial-gradient(circle at 65% 90%, rgba(108,108,108,.35) 1px, transparent 1px);
      background-size:200px 200px, 350px 350px, 180px 180px, 280px 280px, 220px 220px, 
                      300px 300px, 250px 250px, 320px 320px, 270px 270px, 190px 190px;
      background-position:0 0, 40px 60px, 20px 100px, 80px 20px, 10px 50px,
                          50px 80px, 70px 30px, 30px 70px, 60px 40px, 90px 90px;
      pointer-events:none;
      z-index:0;
      animation:dust-drift 60s linear infinite;
    }
    
    @keyframes dust-drift{
      0%{background-position:0 0, 40px 60px, 20px 100px, 80px 20px, 10px 50px,
                          50px 80px, 70px 30px, 30px 70px, 60px 40px, 90px 90px;}
      100%{background-position:200px 200px, 240px 260px, 220px 300px, 280px 220px, 210px 250px,
                          250px 280px, 270px 230px, 230px 270px, 260px 240px, 290px 290px;}
    }
    
    /* CRT Monitor Effect */
    .monitor-frame{
      max-width:1000px;
      width:100%;
      background:linear-gradient(180deg, #2a2a2a, #1a1a1a);
      padding:30px;
      border-radius:20px;
      box-shadow:0 20px 60px rgba(0,0,0,.8), inset 0 1px 0 rgba(255,255,255,.1);
      border:3px solid #0a0a0a;
      position:relative;
      z-index:1;
    }
    
    .monitor-frame::before{
      content:'';
      position:absolute;
      top:10px;
      left:10px;
      right:10px;
      bottom:10px;
      border:1px solid rgba(255,255,255,.05);
      border-radius:15px;
      pointer-events:none;
    }
    
    /* Power indicator */
    .power-light{
      position:absolute;
      bottom:20px;
      right:30px;
      width:8px;
      height:8px;
      background:#00ff41;
      border-radius:50%;
      box-shadow:0 0 10px #00ff41, 0 0 20px #00ff41;
      animation:pulse-light 2s ease-in-out infinite;
    }
    
    @keyframes pulse-light{
      0%, 100% { opacity:1; }
      50% { opacity:0.5; }
    }
    
    /* Screen bezel */
    .screen-bezel{
      background:linear-gradient(135deg, #111, #000);
      padding:20px;
      border-radius:8px;
      box-shadow:inset 0 2px 10px rgba(0,0,0,.8);
    }
    
    .frame{
      max-width:900px;
      margin:0 auto;
      padding:40px;
      background:linear-gradient(180deg,var(--paper),#efece6);
      box-shadow:0 0 40px rgba(0,255,65,.1);
      border:1px solid rgba(0,0,0,.2);
      position:relative;
      animation:scanline 8s linear infinite;
    }
    
    /* Subtle scanline effect */
    @keyframes scanline{
      0%{background-position:0 0;}
      100%{background-position:0 100%;}
    }
    
    .frame::after{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:repeating-linear-gradient(
        0deg,
        rgba(0,0,0,.03) 0px,
        transparent 1px,
        transparent 2px,
        rgba(0,0,0,.03) 3px
      );
      pointer-events:none;
      opacity:0.3;
    }
    
    header{display:flex;align-items:flex-start;gap:20px;margin-bottom:20px;position:relative;z-index:2}
    
    .seal{
      width:96px;
      height:96px;
      background:linear-gradient(135deg, #1a1a1a, #000);
      border-radius:8px;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:18px;
      flex-shrink:0;
      border:2px solid #333;
      box-shadow:0 4px 15px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.1);
      position:relative;
      cursor:pointer;
      transition:all .2s;
    }
    
    .seal:hover{
      background:linear-gradient(135deg, #2a2a2a, #111);
      transform:scale(1.05);
    }
    
    .seal:active{
      transform:scale(0.98);
    }
    
    .seal::after{
      content:'';
      position:absolute;
      top:50%;
      left:50%;
      width:70%;
      height:70%;
      border:2px solid #444;
      border-radius:50%;
      transform:translate(-50%, -50%);
    }
    
    h1{font-family: 'Times New Roman', serif;font-size:22px;margin:0;line-height:1.3}
    .meta{font-size:12px;color:#555;margin-top:8px;line-height:1.4}
    
    .page-indicator{font-size:14px;color:#333;font-weight:600;text-align:center;margin-top:16px;margin-bottom:16px}
    .content-wrapper{position:relative;display:flex;align-items:center;gap:20px;margin-bottom:16px;min-height:450px}
    
    .arrow{
      background:linear-gradient(135deg, #1a1a1a, #000);
      color:#fff;
      border:2px solid #333;
      width:56px;
      height:56px;
      border-radius:50%;
      cursor:pointer;
      font-size:28px;
      transition:all .2s;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
      box-shadow:0 4px 8px rgba(0,0,0,.5);
    }
    .arrow:hover{background:linear-gradient(135deg, #333, #111);transform:scale(1.1);box-shadow:0 6px 12px rgba(0,0,0,.7)}
    .arrow:disabled{background:#666;cursor:not-allowed;opacity:0.3;border-color:#555}
    .arrow:disabled:hover{transform:none;box-shadow:0 4px 8px rgba(0,0,0,.5)}
    
    /* Enhanced Cassette Player with Larger Reels */
    .cassette-player{
      background:linear-gradient(180deg,#2d2d2d,#1a1a1a);
      border:4px solid #0a0a0a;
      border-radius:12px;
      padding:24px;
      margin-bottom:16px;
      box-shadow:
        0 8px 20px rgba(0,0,0,.6),
        inset 0 2px 4px rgba(0,0,0,.8),
        inset 0 -2px 4px rgba(255,255,255,.05);
      position:relative;
    }
    
    .cassette-player::before{
      content:'';
      position:absolute;
      top:8px;
      left:8px;
      right:8px;
      height:4px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
      border-radius:2px;
    }
    
    .cassette-body{
      background:linear-gradient(180deg, #404040, #2a2a2a);
      border-radius:8px;
      padding:24px;
      position:relative;
      box-shadow:inset 0 2px 8px rgba(0,0,0,.6);
    }
    
    .cassette-window{
      background:linear-gradient(135deg,#0d0d0d,#050505);
      border:3px solid #1a1a1a;
      border-radius:6px;
      padding:24px;
      margin-bottom:20px;
      display:flex;
      gap:40px;
      align-items:center;
      justify-content:center;
      box-shadow:
        inset 0 3px 8px rgba(0,0,0,.9),
        0 1px 0 rgba(255,255,255,.05);
      position:relative;
      min-height:140px;
    }
    
    .cassette-window::before{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:linear-gradient(180deg, rgba(255,255,255,.02), transparent);
      border-radius:3px;
      pointer-events:none;
    }
    
    .reel{
      width:80px;
      height:80px;
      border:5px solid #555;
      border-radius:50%;
      background:radial-gradient(circle, #1a1a1a 30%, #333 60%, #222 100%);
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:
        0 4px 8px rgba(0,0,0,.8),
        inset 0 2px 4px rgba(0,0,0,.6);
    }
    
    .reel::before{
      content:'';
      width:24px;
      height:24px;
      background:linear-gradient(135deg, #0a0a0a, #1a1a1a);
      border-radius:50%;
      box-shadow:inset 0 1px 2px rgba(0,0,0,.8);
    }
    
    .reel::after{
      content:'';
      position:absolute;
      width:100%;
      height:100%;
      background:
        linear-gradient(0deg, transparent 45%, #444 50%, transparent 55%),
        linear-gradient(90deg, transparent 45%, #444 50%, transparent 55%),
        linear-gradient(45deg, transparent 45%, #444 50%, transparent 55%),
        linear-gradient(-45deg, transparent 45%, #444 50%, transparent 55%);
      border-radius:50%;
    }
    
    .reel.spinning{animation:spin 2s linear infinite}
    @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    
    .cassette-controls{display:flex;gap:10px;justify-content:center}
    
    .cassette-btn{
      background:linear-gradient(180deg, #333, #1a1a1a);
      border:2px solid #555;
      width:44px;
      height:36px;
      border-radius:6px;
      cursor:pointer;
      transition:all .2s;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#888;
      font-size:18px;
      box-shadow:
        0 3px 6px rgba(0,0,0,.6),
        inset 0 1px 0 rgba(255,255,255,.1);
    }
    
    .cassette-btn:hover{
      background:linear-gradient(180deg, #444, #2a2a2a);
      border-color:#777;
      transform:translateY(-2px);
      box-shadow:0 5px 10px rgba(0,0,0,.7);
    }
    
    .cassette-btn:active{
      transform:translateY(0);
      box-shadow:inset 0 2px 4px rgba(0,0,0,.8);
    }
    
    .cassette-btn.stop.active:hover{
      background:linear-gradient(180deg, #8b0000, #5a0000);
      border-color:#a00;
      color:#fff;
      box-shadow:0 5px 10px rgba(139,0,0,.5), 0 0 15px rgba(255,0,0,.3);
    }
    
    .cassette-btn.play{
      background:linear-gradient(180deg, #555, #333);
      color:#0f0;
      font-weight:900;
      box-shadow:
        0 3px 6px rgba(0,0,0,.6),
        0 0 10px rgba(0,255,0,.2);
    }
    
    .cassette-btn.play:hover{
      background:linear-gradient(180deg, #666, #444);
      box-shadow:
        0 5px 10px rgba(0,0,0,.7),
        0 0 15px rgba(0,255,0,.3);
    }
    
    .cassette-label{
      text-align:center;
      font-size:11px;
      color:#999;
      margin-top:12px;
      letter-spacing:2px;
      text-transform:uppercase;
      text-shadow:0 1px 2px rgba(0,0,0,.8);
    }
    
    .doc{
      margin-top:0;
      background:transparent;
      padding:24px;
      line-height:1.6;
      white-space:pre-wrap;
      position:relative;
      flex:1;
    }
    .stamp{position:absolute;left:50%;top:20%;transform:translate(-50%, -50%) rotate(-8deg);font-weight:900;color:var(--red);font-size:36px;opacity:.3;letter-spacing:8px;border:4px solid var(--red);padding:8px 20px;pointer-events:none;z-index:1;margin-top:300px;     /* moves stamp down */}
    .classified{display:inline-block;padding:4px 10px;border-radius:4px;background:#000;color:#fff;font-weight:700;font-size:11px;letter-spacing:1px}
    .redact{background:#000;color:#000;border-radius:2px;padding:0 6px}
    .glitch{display:inline-block;position:relative}
    .glitch::before,.glitch::after{content:attr(data-text);position:absolute;left:0;top:0;width:100%;overflow:hidden}
    .glitch::before{color:#ff0000;clip-path:polygon(0 0,100% 0,100% 33%,0 33%);opacity:.7;transform:translate(-2px,-1px)}
    .glitch::after{color:#00ff00;clip-path:polygon(0 67%,100% 67%,100% 100%,0 100%);opacity:.7;transform:translate(2px,1px)}
    .box{border:2px solid rgba(0,0,0,.15);padding:20px;background:rgba(255,255,255,.7);border-radius:4px}
    .redacted-line{background:#000;height:1.1em;display:inline-block;vertical-align:middle;width:120px}
    .splat{position:absolute;left:24px;top:24px;opacity:.2;mix-blend-mode:multiply}
    
    footer{
      margin-top:16px;
      padding-top:16px;
      border-top:2px solid rgba(0,0,0,.1);
      font-size:11px;
      color:#666;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    
    .page{display:none}
    .page.active{display:block}
    .blk{
      background:#000;
      color:#000;
      padding:0 8px;
      border-radius:2px;
      transition:all .2s;
      position:relative;
      display:inline-block;
    }
    
    /* Subtle glitch effect on hover for clickable blocks */
    .blk:hover{
      animation:subtle-glitch 0.3s ease-in-out;
    }
    
    @keyframes subtle-glitch{
      0%, 100% { transform:translate(0, 0); }
      25% { transform:translate(-1px, 0); }
      50% { transform:translate(1px, 0); }
      75% { transform:translate(0, -1px); }
    }
    
    progress{
      width:100%;
      margin-top:12px;
      height:10px;
      border-radius:5px;
      overflow:hidden;
      background:#1a1a1a;
      border:2px solid #333;
    }
    
    progress::-webkit-progress-bar{background:#1a1a1a}
    progress::-webkit-progress-value{background:linear-gradient(90deg, #0f0, #0a0);box-shadow:0 0 10px rgba(0,255,0,.5)}
    progress::-moz-progress-bar{background:linear-gradient(90deg, #0f0, #0a0);box-shadow:0 0 10px rgba(0,255,0,.5)}
    
    /* Error Modal */
    .modal-overlay{
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:rgba(0,0,0,.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:1000;
      animation:fadeIn .3s ease;
    }
    
    .modal-overlay.show{
      display:flex;
    }
    
    @keyframes fadeIn{
      from{opacity:0;}
      to{opacity:1;}
    }
    
    .error-modal{
      background:linear-gradient(180deg, #2a2a2a, #1a1a1a);
      border:4px solid #8b0000;
      border-radius:8px;
      padding:30px;
      max-width:500px;
      width:90%;
      box-shadow:0 20px 60px rgba(0,0,0,.9), 0 0 30px rgba(139,0,0,.3);
      position:relative;
      animation:slideDown .3s ease;
    }
    
    @keyframes slideDown{
      from{transform:translateY(-50px);opacity:0;}
      to{transform:translateY(0);opacity:1;}
    }
    
    .error-header{
      display:flex;
      align-items:center;
      gap:15px;
      margin-bottom:20px;
      padding-bottom:15px;
      border-bottom:2px solid #444;
    }
    
    .error-icon{
      width:48px;
      height:48px;
      background:#8b0000;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-size:28px;
      font-weight:900;
      box-shadow:0 0 20px rgba(139,0,0,.5);
    }
    
    .error-title{
      color:#ff4444;
      font-size:20px;
      font-weight:700;
      letter-spacing:1px;
      text-transform:uppercase;
    }
    
    .error-body{
      color:#ccc;
      line-height:1.6;
      margin-bottom:20px;
    }
    
    .error-code{
      background:#0a0a0a;
      border:1px solid #333;
      padding:10px;
      border-radius:4px;
      font-family:'Courier New', monospace;
      color:#0f0;
      font-size:12px;
      margin-bottom:20px;
    }
    
    .error-close{
      background:linear-gradient(180deg, #555, #333);
      border:2px solid #777;
      color:#fff;
      padding:12px 30px;
      border-radius:6px;
      cursor:pointer;
      font-size:14px;
      font-weight:700;
      letter-spacing:1px;
      transition:all .2s;
      box-shadow:0 3px 6px rgba(0,0,0,.6);
      width:100%;
    }
    
    .error-close:hover{
      background:linear-gradient(180deg, #666, #444);
      transform:translateY(-2px);
      box-shadow:0 5px 10px rgba(0,0,0,.7);
    }
    
    .error-close:active{
      transform:translateY(0);
      box-shadow:inset 0 2px 4px rgba(0,0,0,.8);
    }
    
    @media print{body{background:#fff}.frame{box-shadow:none;border:none}}
    @media (max-width: 768px){
      body{padding:10px}
      .monitor-frame{padding:15px}
      .frame{padding:20px}
      h1{font-size:18px}
      .arrow{width:48px;height:48px;font-size:24px}
      .stamp{font-size:28px}
      .content-wrapper{gap:10px;min-height:400px}
      .reel{width:60px;height:60px}
      .cassette-window{gap:24px;padding:16px}
    }
  </style>
</head>
<body>
  <div class="monitor-frame">
    <div class="power-light"></div>
    <div class="screen-bezel">
      <div class="frame">
        <header>
          <div class="seal" onclick="showError()">DBAS</div>
          <div>
            <h1>DEPARTMENT OF BEHAVIORAL ABERRATION STUDIES</h1>
            <h1>SUBJECT DOSSIER: V-09</h1>
            <div class="meta">Document: 43-BS/██-V09 · CLASSIFIED · Level 3 · Last Update: ██/██/20██</div>
          </div>
        </header>

        <div class="content-wrapper">
          <button class="arrow" id="prevBtn" onclick="prevPage()" disabled>←</button>
          
          <div class="doc" id="docbox">
            <div class="stamp">SECRET</div>
            <svg class="splat" width="160" height="160" viewBox="0 0 100 100"><circle cx="20" cy="30" r="18" fill="#000" /><circle cx="60" cy="70" r="8" fill="#000" /><circle cx="80" cy="20" r="4" fill="#000" /></svg>

            <div id="page1" class="page active">
              <div class="box"> 
<span class="classified">[CLASSIFIED — LEVEL 3]</span>

SUBJECT DOSSIER: V-09 — BEHAVIORAL IRREGULARITY REPORT
REF CODE: 43-BS/██-V09                         DATE: ██-██-20██

SECTION I — SUMMARY

SUBJECT V-09, hereafter referred to as "the Subject", has demonstrated a sequence of behavioral irregularities during the last ██ evaluations.
Changes remain inconclusive, but statistically inconsistent with baseline.

Some entries from prior logs show signs of <span class="blk">[DATA LOSS EVENT: V09-∆∆∆]</span>.
Further escalation remains <span class="glitch" data-text="unnecessary.">unnecessary.</span>

SECTION II — OBSERVED ANOMALIES

- Fluctuations in affect and speech pattern
- Intermittent shifts in posture and eye contact
- Inconsistent emotional responses to standard prompts
- Episodes of <em>heightened cooperation</em> during stress scenarios

Personnel are reminded that compliance does not indicate stability.

</div>
            </div>

            <div id="page2" class="page">
              <div class="box">
<span class="classified">[CLASSIFIED — SUPPLEMENTAL]</span>

SUPPLEMENTAL ANALYSIS: COGNITIVE PARTITIONING EVENTS

Log V09-Σ shows a behavioral "break" occurring at ██:██ hours. Audio sensors
recorded a shift in cadence preceding a complete change in spoken intention.
No aggression noted — but the absence of aggression was described by analysts
as "inappropriate to the context." 

A technician report reads: "He looked at me like he already knew the ending." 
This entry was unsigned. Signature field: <span class="blk">[N0-ID]</span>.

A margin note later appeared and subsequently corrupted: <span class="blk">[REDACTED]</span>

Anomalous activity: document V09-K exhibited spontaneous edits. A handwritten
annotation (not attributed to staff) reads: "<span class="glitch" data-text="I'm trying.">I'm trying.</span>"

Investigation remains open. Continue observation.

</div>
            </div>
          </div>

          <button class="arrow" id="nextBtn" onclick="nextPage()">→</button>
        </div>

        <div class="page-indicator">Page <span id="currentPage">1</span> of 2</div>

        <div class="cassette-player">
          <div class="cassette-body">
            <div class="cassette-window">
              <div class="reel" id="reel1"></div>
              <div class="reel" id="reel2"></div>
            </div>
            <div class="cassette-controls">
              <button class="cassette-btn stop" id="stopBtn" onclick="stopAdvisory()" title="Stop">■</button>
              <button class="cassette-btn play" onclick="playAdvisory()" title="Play Advisory">▶</button>
            </div>
            <div class="cassette-label">Behavioral Advisory — V09</div>
          </div>
          <progress id="prog" value="0" max="100"></progress>
        </div>

        <footer>
          <div>UNAUTHORIZED ACCESS WILL BE LOGGED AND REPORTED.</div>
          <div>Page <span id="pagenum">1</span>/2</div>
        </footer>
      </div>
    </div>
  </div>

  <!-- Error Modal -->
  <div class="modal-overlay" id="errorModal">
    <div class="error-modal">
      <div class="error-header">
        <div class="error-icon">!</div>
        <div class="error-title">System Error</div>
      </div>
      <div class="error-body">
        Access to the home screen has been restricted. Your terminal requires a critical system update before navigation privileges can be restored.
      </div>
      <div class="error-code">
        ERROR CODE: 0x8B000F - UPDATE_REQUIRED<br>
        STATUS: ACCESS_DENIED<br>
        ACTION: Contact system administrator
      </div>
      <button class="error-close" onclick="closeError()">ACKNOWLEDGE</button>
    </div>
  </div>

<script>
  let currentPageNum = 1;
  let isPlaying = false;
  let stopRequested = false;

  function updatePage(){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById('page' + currentPageNum).classList.add('active');
    document.getElementById('currentPage').textContent = currentPageNum;
    document.getElementById('pagenum').textContent = currentPageNum;
    
    document.getElementById('prevBtn').disabled = currentPageNum === 1;
    document.getElementById('nextBtn').disabled = currentPageNum === 2;
  }

  function nextPage(){
    if(currentPageNum < 2){
      currentPageNum++;
      updatePage();
    }
  }

  function prevPage(){
    if(currentPageNum > 1){
      currentPageNum--;
      updatePage();
    }
  }

  function stopAdvisory(){
    stopRequested = true;
    window.speechSynthesis.cancel();
    document.getElementById('reel1').classList.remove('spinning');
    document.getElementById('reel2').classList.remove('spinning');
    document.getElementById('prog').value = 0;
    document.getElementById('stopBtn').classList.remove('active');
    isPlaying = false;
  }
  
  function showError(){
    document.getElementById('errorModal').classList.add('show');
  }
  
  function closeError(){
    document.getElementById('errorModal').classList.remove('show');
  }

  // Hidden: Click sequence Easter egg - click the redacted blocks in order
  let clickSequence = [];
  document.addEventListener('DOMContentLoaded', function(){
    const redactedElements = document.querySelectorAll('.blk');
    redactedElements.forEach((el, idx) => {
      el.style.cursor = 'pointer';
      el.addEventListener('click', function(){
        clickSequence.push(idx);
        if(clickSequence.length > 3) clickSequence.shift();
        if(clickSequence.join(',') === '0,1,2'){
          window.location.href = 'aletter.html';
        }
      });
    });
  });

  async function playAdvisory(){
    if(isPlaying) return;
    isPlaying = true;
    stopRequested = false;
    
    const prog = document.getElementById('prog'); 
    prog.value = 0;
    
    document.getElementById('stopBtn').classList.add('active');
    document.getElementById('reel1').classList.add('spinning');
    document.getElementById('reel2').classList.add('spinning');
    
    const lines = [
      'Attention all personnel. This is a Level Three Behavioral Advisory regarding Subject V zero nine.',
      'Cognitive irregularities have been recorded. These deviations are minor, but nontrivial.',
      'Observe without confrontation. Document without engagement. Maintain professional distance.',
      'Apparent compliance should not be interpreted as emotional stability.',
      'If the Subject exhibits confusion, dissociation, or unexplained calm, activate Silent Alert.'
    ];
    
    const ctx = new (window.AudioContext||window.webkitAudioContext)();
    function synthBlip(t){
      const o = ctx.createOscillator(); const g=ctx.createGain();
      o.type='square'; o.frequency.value = Math.floor(300+Math.random()*800);
      g.gain.value=0.08; o.connect(g); g.connect(ctx.destination);
      o.start(); o.stop(ctx.currentTime + t);
    }
    
    for(let i=0;i<lines.length;i++){
      if(stopRequested) break;
      await speak(lines[i]);
      if(stopRequested) break;
      for(let k=0;k<3;k++){ 
        if(stopRequested) break;
        synthBlip(0.06 + Math.random()*0.12); 
        await sleep(80); 
      }
      prog.value = Math.round(((i+1)/lines.length)*100);
    }
    
    if(!stopRequested){
      prog.value = 100; 
      setTimeout(()=>{
        prog.value=0;
        document.getElementById('reel1').classList.remove('spinning');
        document.getElementById('reel2').classList.remove('spinning');
        document.getElementById('stopBtn').classList.remove('active');
      },800);
    }
    
    isPlaying = false;

    function sleep(ms){return new Promise(res=>setTimeout(res,ms));}
    function speak(text){
      return new Promise((res)=>{
        if('speechSynthesis' in window && !stopRequested){
          const u = new SpeechSynthesisUtterance(text);
          u.rate = 0.95; u.pitch = 0.9; 
          u.onend = res;
          u.onerror = res;
          window.speechSynthesis.speak(u);
        } else { 
          console.log(text); 
          res(); 
        }
      });
    }
  }
</script>
</body>
</html>
